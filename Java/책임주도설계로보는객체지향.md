# 책임 주도 설계로 보는 객체지향
## 목차

1. [객체 지향 프로그래밍](#1-객체-지향-프로그래밍)  
1-1. [객체 지향 프로그래밍이란?](#1-1-객체-지향-프로그래밍이란)  
2. [책임주도설계(Responsibility Driven Design)](#2-책임주도설계responsibility-driven-design)  
2-1. [책임주도설계란?](#2-1-책임주도설계란)  
2-2. [책임주도설계 원칙](#2-2-책임주도설계-원칙)  
2-3. [키워드를 통해 보기](#2-3-키워드를-통해-보기)   
3. [책임주도설계를 적용해보기](#3-책임주도설계를-적용해보기)  
3-1. [설계시 주의할 점](#3-1-설계시-주의할-점)  
3-2. [설계 적용](#3-2-설계-적용)  

***
### 1. 객체 지향 프로그래밍
  - #### 1-1. 객체 지향 프로그래밍이란?
    - 프로그램 개발 방법론  
    - 사람이 현실을 바라보는 방법을 개발에 접목한 것이다.
    - 장점?
      ```
      1. 직관적으로 이해하기 쉬움
      2. 유지 보수가 용이해짐
      ```
  
### 2. 책임주도설계(Responsibility Driven Design)
  - #### 2-1. 책임주도설계란?
    - 책임을 어디에 배치하고 설계를 할 것인가
    - 책임을 수행할 수 있는 적절한 객체를 찾아 할당하고,  
      책임을 수행하는 도중 다른 객체의 도움이 필요한 경우 메세지를 수신할 객체를 찾아 책임을 할당  
      해당 객체에 책임을 할당함으로써 두 객체가 협력하게 됨
  
  - #### 2-2. 책임주도설계 원칙
    - 데이터보다 행동(책임)을 먼저 결정해야함
    - 협력이라는 문맥 안에서 책임을 결정하라
    - `책임을 먼저 결정하고, 객체를 결정`
    - 책임이 조금 어색해 보이더라도 협력에 적합하다면 그 책임은 좋은 것  

  - #### 2-3. 키워드를 통해 보기
    - 객체
      ```
      현실의 무언가에 대응하는 개념(현실의 개념을 추상화 한것)
      class는 객체를 표현하는 하나의 수단이라고 볼 수 있다.
      
      다른 객체와 협력을 하는 역할을 맡고 있는 대상
      역할을 맡으면 임무를 수행할 책임이 생김
      책임을 다하기 위한 데이터와 프로세스를 가짐
      ```
      
    - 협력과 책임, 역할
      ```
      협력
      - 시스템 목표를 달성하기 위해 여러 객체가 참여하여 행동하는 것
      
      책임
      - 협력 속에서 본인이 수행해야할 임무의 내용을 알고, 수행하는 것

      역할
      - 동일한 목적을 가진 책임의 묶음

      예시 - 치킨 배달 프로그램
        협력 - 치킨을 손님에게 배달하기
        책임 - 가게는 치킨을 주문 받고, 요리사는 치킨을 튀기고, 배달원은 치킨을 배달하는 것
        역할 - 치킨을 튀기고, 맛있게 조리할 책임을 가지는 역할은 요리사
      ```
      
    - 메세지
      ```
      객체는 메시지를 통해 `다른 객체에게 책임을 다하라고 요구`
      메세지를 보내는 객체는 `무엇을 할지만 요구하고, 어떻게 하는지 신경쓰지 않아도 됨`
      객체는 책임을 수행하라고 요구 받지만 `어떻게 처리할 지는 자율에 맡김`
      
      메소드를 호출함으로써 메세지를 보냄
      ```
    
    - 자율성(의인화)
      ```
      객체 지향과 현실의 차이점
      현실 - 치킨가게는 건물에 불과함
      객체지향 - 스스로 치킨을 튀기고, 배달원에게 치킨을 건네줌
      
      즉, 객체지향에서는 객체가 자율적으로, 능동적으로 행동할 수 있다고 의인화 하여야함
      능동적으로 행동(책임 수행)을 위해 데이터와 프로세스를 가짐
      ```
    - 다형성
      ```
      다형성을 활용하는 목적은 서로 다른 유형의 객체가 동일한 메세지에 대해 다르게 반응하게 하기 위함
      
      동일한 메세지를 처리 == 같은 역할을 수행한다
      다르게 반응한다 == 메세지 처리방법은 자율적이다. 
      ```
    
    - 정리
      ```
      1. 객체는 현실의 개념을 추상화한 것
      
      2. 객체들은 서로 협력하고, 역할을 맡아 책임을 수행하여 문제상황 해결
      
      3. 하지만 현실의 사물과 달리 객체는 능동적이고 자율적인 존재
      ```
 
### 3. 책임주도설계를 적용해보기
  - #### 3-1. 설계시 주의할 점
    - 현실 세계를 반영하기 위한 설계를 시작하면 자칫 `데이터 중심의 설계를 하기 쉽다.`  
      ```
      ex) 치킨집에는 치킨을 튀길 요리사, 배달 주문을 받을 전화기, 배달원은 도착지 정보, 치킨, 거스름돈을 가지고 있어야한다.  
      이렇게 데이터 위주의 생각으로 빠질 수 있음.
      ```
      
      데이터 중심 설계 예시 코드  
      ```java
      class ChickenShop {
	      private Chef chef = new Chef();
	      private Phone phone = new Phone();

	      private void processChickenOrder() {
          Menu orderMenu = phone.getMenu();
          List<Menu> possibleMenuList = chef.getMenuList();

          Driver driver = new Driver();
          if(possibleMenuList.contains(orderMenu)) {
            Chicken chicken = chef.cook(orderMenu);
            driver.setChicken(chicken);
            driver.setDestination(order.getDestination());
            driver.deliver();
          }
        }
      }
      ```
      
      문제점  
      - getter, setter가 과도하게 추가되어 결합도가 높아진다. (서로 알고 있는 객체가 많아진다)  
        
        결합도가 높아지면?  
        Order.Menu의 타입이 변경된다면 하나만 변경된건데 다수가 변경이 되야함  

      - 데이터를 처리하는 작업과 데이터가 분리되어 응집도가 낮아진다. (여러가지 이유로 변경되어야함)  
  
  - #### 3-2. 설계 적용
    1. 시스템이 사용자에게 제공해야하는 기능인 시스템 책임을 파악한다. (협력을 기술)  
       - 치킨 주문을 받아 손님에게 배달  
    
    2. 시스템 책임을 더 작은 책임으로 분할한다.  
       - 메세지를 생성한다.
       - 치킨 주문을 받는다.
       - 치킨을 요리한다.
       - 치킨을 손님에게 배달한다.
    
    3. 분할된 책임을 수행할 수 있는 적절한 객체 또는 역할을 찾아 책임을 할당한다.  
       - 치킨가게 : 치킨주문을 받아라

    4. 객체가 책임을 수행하는 도중 다른 객체의 도움이 필요한 경우 이를 책임질 적잘한 객체 또는 역할을 찾는다.  
       - 치킨가게 : 치킨을 요리하라 메세지 전달
       - 요리사 : 치킨을 요리
       - 요리사 : 치킨을 배달하라 메세지 전달 
       - 배달원 : 치킨을 배달

    5. 해당 객체 또는 역할에게 책임을 할당함으로써 두 객체가 협력하게 한다.  
       - 책임을 할당은 메세지를 전달하는것 , 즉 메서드를 통해 전달  
    
    예시 코드
    ```java
    class ChickenShop {
      private Chef chef = new Chef();

      public void takeOrder() {
        // 요리사에게 메세지를 보냄
        chef.cook();
      }
    }

    class Chef {
      private Driver driver = new driver();
      private Chicken chicken;

      public void Cook() {
        chicken = new FriedChicken();
        // 배달원에게 배달 요청
        driver.deliver(chicken); 
      }
    }

    class Driver {
      public void deliver(Chicken chicken) {
        ... // 배달 방법은 자유
      }
    }
    ```
    
## Reference   
  - [나만 보려고 만든 블로그 책임주도설계](https://thisblogfor.me/computerscience/OOP/5%EC%9E%A5/)    
  - [10분 테코톡 OOP](https://www.youtube.com/watch?v=3etKkkna-f0)  

***
[목차로 이동](https://github.com/youngho-j/TIL/blob/main/Java/README.md "Go README.md")


